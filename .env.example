# License Validation Service - Environment Variables
# Copy this file to .env and update with your values

# Server Configuration
SERVER_PORT=8199

# JWE Security Configuration (REQUIRED in production)
# Must be at least 32 characters for AES-256-GCM encryption
JWE_SECRET_KEY=12345678901234567890123456789012
JWE_EXPIRATION_SECONDS=3600
JWE_ISSUER=lib-validate-license

# Email Configuration (MailerSend REST API)
# MAILERSEND_API_TOKEN: obtain from https://app.mailersend.com/api-tokens
# EMAIL_FROM: must be a verified domain in MailerSend
MAILERSEND_API_TOKEN=mlsn.your-token-here
MAILERSEND_API_URL=https://api.mailersend.com/v1/email
EMAIL_FROM=noreply@yourdomain.com
EMAIL_ENABLED=true

# Scheduler Configuration
# Enable/disable scheduled expiration warning task
SCHEDULER_ENABLED=true
# Cron expression (default: daily at 9:00 AM)
# Format: second minute hour day month dayOfWeek
SCHEDULER_CRON=0 0 9 * * ?

# Backup Configuration (Cloudflare R2)
BACKUP_ENABLED=true
BACKUP_RUN_ON_STARTUP=true
# Cron expression for scheduled backup (default: daily at 1:00 AM)
BACKUP_CRON=0 0 1 * * ?
# Local temp directory for backup files
BACKUP_LOCAL_DIR=/app/data/backups
# Number of backup files to retain in R2
BACKUP_MAX_FILES=7

# Cloudflare R2 Credentials
# R2_ACCOUNT_ID: visible in the Cloudflare dashboard URL
# R2_ACCESS_KEY_ID / R2_SECRET_ACCESS_KEY: generate in R2 -> Manage R2 API Tokens
R2_ACCOUNT_ID=your-cloudflare-account-id
R2_ACCESS_KEY_ID=your-r2-access-key-id
R2_SECRET_ACCESS_KEY=your-r2-secret-access-key
R2_BUCKET_NAME=licenses-backup

# H2 Console Configuration (development only — disable in production)
H2_CONSOLE_ENABLED=true

# Database Configuration (optional — defaults to H2 embedded file-based DB)
# Uncomment and configure if using an external database
#DATABASE_URL=jdbc:postgresql://localhost:5432/licenses
#DATABASE_DRIVER=org.postgresql.Driver
#DATABASE_USERNAME=license_user
#DATABASE_PASSWORD=secure_password

# Spring Profile
# Options: default (development), prod (production)
#SPRING_PROFILES_ACTIVE=prod

# Telegram Bot Configuration
# TELEGRAM_BOT_TOKEN: get from @BotFather on Telegram
# TELEGRAM_ADMIN_CHAT_ID: your personal chatId (use /miinfo to find it)
TELEGRAM_BOT_ENABLED=false
TELEGRAM_BOT_TOKEN=
TELEGRAM_BOT_USERNAME=
TELEGRAM_ADMIN_CHAT_ID=0
